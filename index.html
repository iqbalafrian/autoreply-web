<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoReply</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f4ff;
      color: #333;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #4a90e2;
      color: white;
      padding: 10px 20px;
    }

    .search-icon,
    .darkmode-icon {
      cursor: pointer;
      background-color: white;
      color: #4a90e2;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 10px;
    }

    .search-container {
      display: flex;
      align-items: center;
    }

    #searchInput {
      display: none;
      margin-left: 10px;
      padding: 6px;
    }

    .template {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 10px;
      background: #e9f0ff;
      border-radius: 8px;
      margin: 10px;
      max-width: 100%;
    }

    .template-content {
      flex: 1;
    }

    .template-buttons {
      display: flex;
      flex-direction: column;
      gap: 5px;
      margin-left: 10px;
    }

    .template-buttons button {
      padding: 4px 8px;
      font-size: 0.85rem;
      border: none;
      background: #4a90e2;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }

    .template-buttons button:hover {
      background: #357ab8;
    }
  </style>
</head>

<body>
  <header>
    <div class="search-container">
      <div class="search-icon" onclick="toggleSearch()">üîç</div>
      <input type="text" id="searchInput" placeholder="Cari template..." oninput="tampilkanTemplate()">
    </div>
    <h1 style="margin: 0; text-align: center; flex: 1;">AutoReply</h1>
    <div class="darkmode-icon" onclick="toggleDarkMode()">üåô</div>
  </header>

  <main style="padding: 20px">
    <div id="daftarTemplate"></div>
  </main>

  <script>
    let templates = [
      { judul: 'Salam', isi: 'Halo! Ada yang bisa saya bantu?' },
      { judul: 'Terima Kasih', isi: 'Terima kasih telah menghubungi kami!' }
    ];

    function toggleSearch() {
      const input = document.getElementById('searchInput');
      input.style.display = input.style.display === 'none' ? 'block' : 'none';
      if (input.style.display === 'block') input.focus();
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark');
    }

    function salinTemplate(teks) {
      navigator.clipboard.writeText(teks).then(() => alert('Template disalin!'));
    }

    function hapusTemplate(i) {
      if (confirm('Hapus template ini?')) {
        templates.splice(i, 1);
        tampilkanTemplate();
      }
    }

    function tampilkanTemplate() {
      const kw = (document.getElementById('searchInput')?.value || "").toLowerCase();
      const list = document.getElementById('daftarTemplate');
      list.innerHTML = '';

      if (!templates.length) {
        list.innerHTML = '<p>Tidak ada template tersimpan.</p>';
        return;
      }

      templates.forEach((t, i) => {
        if (t.judul.toLowerCase().includes(kw) || t.isi.toLowerCase().includes(kw)) {
          const wrapper = document.createElement('div');
          wrapper.className = 'template';

          const content = document.createElement('div');
          content.className = 'template-content';
          content.innerHTML = `<strong>${t.judul}</strong><p>${t.isi}</p>`;

          const btns = document.createElement('div');
          btns.className = 'template-buttons';

          const copyBtn = document.createElement('button');
          copyBtn.textContent = 'Salin';
          copyBtn.onclick = () => salinTemplate(t.isi);

          const delBtn = document.createElement('button');
          delBtn.textContent = 'Hapus';
          delBtn.onclick = () => hapusTemplate(i);

          btns.append(copyBtn, delBtn);
          wrapper.append(content, btns);
          list.appendChild(wrapper);
        }
      });
    }

    tampilkanTemplate();
  </script>
</body>

</html>
